# Отчет о проекте World Photo

## 1. Общее описание проекта
**World Photo** — это веб-платформа, разработанная на фреймворке Django, предназначенная для объединения фотографов и клиентов. Сервис позволяет фотографам создавать портфолио, указывать специализацию и стоимость услуг, а клиентам — искать специалистов, просматривать их работы и оставлять заявки на съемку.

## 2. Технический стек
*   **Backend**: Python, Django
*   **Database**: SQLite (по умолчанию)
*   **Frontend**: HTML, CSS, JavaScript (ванильный)
*   **Работа с изображениями**: Pillow (сжатие изображений)

## 3. Структура данных (Модели)
Приложение `users` содержит следующие ключевые модели:
*   **User**: Стандартная модель пользователя Django.
*   **ClientProfile**: Профиль клиента (телефон, аватар).
*   **PhotographerProfile**: Профиль фотографа (био, специализация, цена, контакты, соцсети, счетчик просмотров).
*   **Photo**: Фотографии в портфолио (с категориями и лайками).
*   **BookingRequest**: Заявки на бронирование (статусы: новая, в работе, выполнена, отменена).
*   **Favorite**: Избранные фотографы.
*   **PhotoLike**: Лайки к отдельным фотографиям.
*   **News**: Новости платформы.
*   **SupportRequest**: Обращения в техническую поддержку.
*   **ProfileView**: (Новая) Модель для учета уникальных просмотров профилей.

## 4. История последних изменений (30.01.2026)

В ходе текущей сессии были выполнены следующие доработки:

### А. Пагинация списка специалистов
*   **Функционал**: Реализован постраничный вывод фотографов в разделе "Специалисты".
*   **Параметры**: 15 карточек на одной странице.
*   **Интерфейс**: Добавлены кнопки "Предыдущая", номера страниц, "Следующая".
*   **Особенности**: Сохранение параметров фильтрации (город, цена, специализация) при переходе между страницами. Стили адаптированы под мобильные устройства.

### Б. Навигация и Меню
*   **Перестановка элементов**: Иконка профиля пользователя (или кнопки входа/регистрации) перемещена в основной список навигации после пункта "Галерея".
*   **Выравнивание**: Пункты меню (ссылки и иконка профиля) выровнены по центру по вертикальной оси (`align-items: center`).
*   **Мобильная версия**:
    *   Реализовано и стилизовано "бургер-меню" для экранов шириной менее 768px.
    *   Добавлен JavaScript для открытия/закрытия мобильного меню.
    *   Добавлена поддержка открытия выпадающего меню профиля по клику на тач-устройствах.

### В. Счетчик просмотров профиля
*   **Новая модель**: Создана модель `ProfileView` для хранения истории просмотров.
*   **Логика подсчета**:
    *   Для авторизованных пользователей: 1 просмотр на пользователя.
    *   Для гостей: 1 просмотр на сессию браузера.
    *   Защита от накрутки (F5).
*   **Отображение**: Количество просмотров выводится в детальной карточке фотографа с иконкой глаза.

### Г. Исправления и улучшения
*   **Стили (CSS)**: Восстановлен и дополнен файл `static/styles.css`. Объединены стили из разных источников, добавлены стили для пагинации и мобильного меню.
*   **База данных**: Восстановлено поле `admin_response` в модели техподдержки, созданы и применены необходимые миграции.

## 5. Файловая структура (ключевые файлы)
*   `manage.py`: Утилита управления проектом.
*   `users/`: Основное приложение.
    *   `models.py`: Описание базы данных.
    *   `views.py`: Логика обработки запросов (включая новую логику счетчика).
    *   `templates/users/`: HTML-шаблоны (base.html, specialists.html, photographer_detail.html и др.).
*   `static/`: Статические файлы.
    *   `styles.css`: Основные стили сайта.
    *   `js/`: Скрипты (phone-mask.js).

---
*Отчет сгенерирован автоматически 30.01.2026*
